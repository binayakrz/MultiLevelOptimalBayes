% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimate_ML_CV.R
\name{estimate_ML_CV}
\alias{estimate_ML_CV}
\title{Estimate between-group effect of 2-level latent variable model with control variables using maximum likelihood (ML) estimator
Maximum Likelihood Estimation of Between-Group Effect for 2-Level Latent Variable Model}
\usage{
estimate_ML_CV(data)
}
\arguments{
\item{data}{A list containing the dataset with the following elements:
\itemize{
  \item `n`: Number of individuals per group.
  \item `k`: Number of groups.
  \item `x`: Predictor variable.
  \item `y`: Response variable.
  \item `C`: Control variables matrix (optional).
  \item `kc`: Number of control variables.
}}
}
\value{
A list containing:
  \itemize{
    \item `beta_b_ML_CV`: The ML estimate of the between-group effect after controlling for control variables (if applicable).
    \item `beta_b_ML_no_CV`: The ML estimate of the between-group effect without controlling for control variables.
    \item `gamma`: The estimated coefficients for the control variables.
    \item `tau_x2`: Between-group variance of the predictor variable.
    \item `sigma_x2`: Within-group variance of the predictor variable.
    \item `tau_yx`: Covariance between the predictor and response variables.
    \item `sigma_yx`: Residual covariance between the predictor and response variables.
  }
}
\description{
This function estimates the between-group effect in a two-level latent variable model with control variables 
using the Maximum Likelihood (ML) estimator. It calculates the between-group variance components for 
the predictor variable (`x`) and response variable (`y`), and estimates the between-group effect (`beta_b_ML`). 
If control variables (`C`) are provided, the function also computes the adjusted between-group effect 
after controlling for those variables (`beta_b_ML_tilde`).
}
\details{
The function handles multiple control variables by regressing them on the predictor variable 
and incorporating the resulting residuals into the estimation process.
}
\examples{
# Assuming data is a list structured as per the requirements
result <- estimate_ML_CV(data)
print(result)
}
